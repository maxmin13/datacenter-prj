{
   "Datacenter":{
      "VPC":{
         "Name":"aws-datacenter",
         "Description":"AWS VPC",
         "Cidr":"10.0.0.0/16",
         "Region":"eu-west-1",
         "Tags":[
            {
               "Key":"Class",
               "Value":"webservices"
            }
         ]
      },
      "InternetGateway":{
         "Name":"aws-gateway",
         "Tags":[
            {
               "Key":"Class",
               "Value":"webservices"
            }
         ]
      },
      "RouteTable":{
         "Name":"aws-routetable",
         "Tags":[
            {
               "Key":"Class",
               "Value":"webservices"
            }
         ]
      },
      "Subnets":[
         {
            "Description":"AWS network shared by the instances.",
            "Name":"admin-subnet",
            "Az":"eu-west-1a",
            "Cidr":"10.0.20.0/24",
            "Tags":[
               {
                  "Key":"Class",
                  "Value":"webservices"
               }
            ]
         }
      ],
      "SecurityGroups":[
         {
            "Description":"Admin instance security group.",
            "Name":"admin-sgp",
            "Rules":[
               {
                  "FromPort":-1,
                  "ToPort":-1,
                  "Protocol":"icmp",
                  "Cidr":"0.0.0.0/0",
                  "Description":"ping access"
               },
               {
                  "FromPort":80,
                  "ToPort":90,
                  "Protocol":"http",
                  "SgpName":"mysecuritygroup",
                  "Description":"HTTP access"
               }
            ],
            "Tags":[
               {
                  "Key":"Class",
                  "Value":"webservices"
               }
            ]
         }
      ],
      "Instances":[
         {
            "Name":"admin-box",
            "UserName":"awsadmin",
            "UserPassword":"awsadminpwd",
            "PrivateIp":"10.0.20.35",
            "SecurityGroup":"admin-sgp",
            "Subnet":"admin-subnet",
            "ParentImage":"amzn2-ami-kernel-5.10-hvm-2.0.20230719.0-x86_64-gp2",
            "TargetImage":"my-new-image",
            "DnsDomain":"admin.maxmin.it",
            "HostName":"host.maxmin.it",
            "Tags":[
               {
                  "Key":"Class",
                  "Value":"webservices"
               }
            ]
         }
      ]
   }
}