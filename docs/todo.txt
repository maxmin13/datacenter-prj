

mariadb.yml

    - name: Install PyMySQL
      become: true
      pip: name=PyMySQL
      
create a /opt/.venv

upload and install a requirement files with PyMySQL

see what ansible module needs it and use the module specifying the .venv
virtualenv: "{{ aws.instance.project.venv.dir.path }}"


*********************************************************************************

the same with phpmyadmin.yml

community.docker.docker_container

requests==2.31
virtualenv: "{{ aws.instance.project.venv.dir.path }}"

*********************************************************************************

deploy-django.yml

    - name: Install psycopg2 for ansible to be able to create postgresql users
      become: true
      pip: name=psycopg2-binary
      
try to include the library in the project venv      
   
*********************************************************************************   
      